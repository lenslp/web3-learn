## 浏览器缓存机制
1. 强缓存：通过设置响应头（如 Cache-Control）来控制缓存时间，浏览器在缓存有效期内直接使用缓存资源，无需向服务器请求。
    + cache-control：
        - max-age：缓存时间，单位秒
        - no-store：不缓存任何响应，每次请求都向服务器请求
        - no-cache：每次请求都向服务器验证缓存是否过期（配合协商缓存使用）
        - public: 可以被浏览器、cdn缓存
        - private: 只能被浏览器缓存，不能被cdn缓存
        - immutable：声明资源不会被修改，浏览器可以缓存并长期使用，无需每次验证
    常见配置：cache-control: public, max-age=31536000 immutable;
2. 协商缓存：通过设置响应头（如 Last-Modified、ETag）来判断资源是否过期，浏览器在缓存过期前向服务器请求验证，若资源未过期，则返回 304 状态码，否则返回新的资源。
    + last-modified：资源最后修改时间，格式为 HTTP 日期字符串（如 Mon, 20 Jun 2023 12:00:00 GMT）
    + etag：资源的唯一标识符，格式为字符串（如 "1234567890"）

## service worker
+ 作用：是运行在浏览器后台的独立线程脚本，与网页主线程分离，主要用于拦截网络请求、管理缓存、实现离线功能等。
+ 核心特性：
    - 独立线程：运行在浏览器后台，与网页主线程分离，不阻塞网页加载
    - 请求拦截：能拦截当前域名下的所有网络请求，决定是否返回缓存响应或发起新的网络请求
    - 缓存管理：通过 Cache Storage 持久化存储资源（如静态资源、API 响应等），实现离线缓存功能
    - 事件驱动：通过监听 install、activate、fetch、push 等事件完成工作
+ 主要作用：
    - 实现离线缓存功能：缓存关键资源（如首页 HTML、核心 CSS/JS），当用户离线时，Service Worker 拦截请求并返回缓存内容，确保网页能基本运行
    - 加速资源加载：优先从缓存返回已存储的资源，减少网络请求，提升重复访问时的加载速度（尤其弱网环境）
    - 后台同步：结合 Background Sync API，在用户离线时缓存用户操作（如表单提交），待网络恢复后自动同步到服务器
    - 推送通知：通过 Push API 实现服务器向用户推送通知，保持用户与应用的互动

## workbox
+ 作用：用于简化 Service Worker 开发，提供常用的缓存策略、网络请求处理等功能
+ 常用功能：缓存静态资源、缓存 API 请求、离线页面展示等
+ 常结合 Service Worker 一起使用，实现离线缓存功能

## Cache Storage
+ 作用：用于存储 HTTP 请求-响应对，提升页面加载速度
+ 常用功能：缓存js、css、图片等静态资源、缓存 API 请求等
+ 常结合 Service Worker 一起使用，实现离线缓存功能

## IndexedDB
+ 作用：用于存储结构化数据（json、对象等），如用户信息、应用状态等
+ 常用功能：CRUD 操作、索引查询等
+ 常结合 Service Worker 一起使用，实现离线数据存储功能
    + 存储离线操作记录：如表单提交、数据修改
    + 存储用户个性化数据：如用户设置、主题偏好等

## PWA开发
+ 在实际 PWA 开发中，常配合使用（如 Workbox 用 Cache Storage 缓存资源，用 IndexedDB 存储同步队列），各自发挥优势，共同实现完整的离线功能